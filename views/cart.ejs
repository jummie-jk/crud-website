<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
</head>
<body>
    <h1>Cart</h1>
    <ul>
        <% if (cart && cart.products.length > 0) { %>
            <% cart.products.forEach(item => { %>
                <li>
                    <h2><%= item.productId.name %></h2>
                    <p>Price: $<%= item.productId.price %></p>
                    <p>Quantity: <%= item.quantity %></p>
                    <form action="/cart/update" method="POST">
                        <input type="hidden" name="productId" value="<%= item.productId._id %>">
                        <input type="number" name="quantity" value="<%= item.quantity %>" min="1">
                        <button type="submit">Update Quantity</button>
                    </form>
                    <form action="/cart/remove" method="POST">
                        <input type="hidden" name="productId" value="<%= item.productId._id %>">
                        <button type="submit">Remove from Cart</button>
                    </form>
                </li>
            <% }) %>
        <% } else { %>
            <p>Your cart is empty</p>
        <% } %>
    </ul>
    <a href="/products">Back to Products</a>
</body>
</html>
